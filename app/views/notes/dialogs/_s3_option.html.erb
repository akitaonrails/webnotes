<%# S3 Upload Option Component
    Parameters:
    - mode: "upload" (default) or "reupload"
    - description: optional custom description text
%>
<% mode ||= "upload" %>
<%
  label = mode == "reupload" ? t('dialogs.s3_option.reupload_to_s3') : t('dialogs.s3_option.upload_to_s3')
  description ||= mode == "reupload" ?
    t('dialogs.s3_option.reupload_description') :
    t('dialogs.s3_option.upload_description')
%>

<div class="hidden" data-controller="s3-option">
  <label class="flex items-center gap-2 text-sm cursor-pointer">
    <input
      type="checkbox"
      data-s3-option-target="checkbox"
      data-action="change->s3-option#onCheckboxChange"
      class="rounded border-[var(--theme-border)] text-[var(--theme-accent)] focus:ring-[var(--theme-accent)]"
    >
    <span><%= label %></span>
  </label>
  <p class="text-xs text-[var(--theme-text-muted)] mt-1 ml-6">
    <%= description %>
  </p>
  <!-- Resize option (only when S3 is checked) -->
  <div class="hidden mt-2 ml-6" data-s3-option-target="resizeOption">
    <label class="flex items-center gap-2 text-sm">
      <span><%= t('dialogs.s3_option.resize') %></span>
      <select
        data-s3-option-target="resizeSelect"
        class="px-2 py-1 text-sm border border-[var(--theme-border)] rounded bg-[var(--theme-bg-primary)] text-[var(--theme-text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)]"
      >
        <option value=""><%= t('dialogs.s3_option.none') %></option>
        <option value="0.25"><%= t('dialogs.s3_option.quarter_size') %></option>
        <option value="0.5" selected><%= t('dialogs.s3_option.half_size') %></option>
        <option value="0.67"><%= t('dialogs.s3_option.two_thirds_size') %></option>
      </select>
      <span class="text-[var(--theme-text-muted)]"><%= t('dialogs.s3_option.compress') %></span>
    </label>
  </div>
</div>
